---
author: Ika (@ikatyang)
authorURL: https://github.com/ikatyang
title: "Prettier 1.15: HTML, Vue, Angular and MDX Support"
---

TODO: update the blog post date

This release adds TODO.

<!--truncate-->

## Highlights

### HTML/Vue/Angular

#### Support HTML, Vue, and Angular ([#5259] by [@ikatyang])

<!--
- mention the previous hard working (@evilebottnawi and @azz)
- mention `--html-whitespace-sensitivity` (also link to options.md)
  - magic comments
- mention difference between html/vue/angular parser
  - custom elements can be self-closed in `vue` but not `html` and `angular`
  - automatic parser inference (`.component.html` for angular)
  - vue-specific syntax
  - angular-specific syntax
- mention html`input` and /* HTML */ `input`
- mention angular inline template
-->

### MDX

#### Support MDX ([#4975] by [@ikatyang])

### JavaScript

#### Respect original text decorator order ([#5207] by [@duailibe])

#### Keep decorators inline if they were written inline ([#5188] by [@duailibe])

#### Print nested ternaries differently ([#5039] by [@suchipi])

#### Improved object-break heuristic ([#5205] by [@j-f1])

Previously, Prettier would automatically break objects onto multiple lines if they didn’t fit within the print width.
Prettier would also keep objects broken onto multiple lines if there was a newline somewhere inside them in the input code.
This made it difficult to collapse an object since you had to manually merge the object onto one line.
Since manual formatting changes are a task Prettier aims to eliminate, we’ve changed the behavior to only check for a newline between the `{` and the first key:

<!-- prettier-ignore -->
```js
// Input:
const data = {  foo: 'bar',
  baz: 'quux'
}
/* You’d get this format by deleting the newline after the `{` */

// Output (Prettier 1.14):
const data = {
  foo: 'bar',
  baz: 'quux'
}

// Output (Prettier 1.15):
const data = { foo: 'bar', baz: 'quux' }

```

### JSX

#### fix: splitting jsx text correctly ([#5006] by [@yuliaHope])

## Other changes

### API/CLI

#### Infer via shebang ([#5149] by [@haggholm])

#### Add a new `trim` command to trim whitespaces in the current line ([#4772] by [@warrenseine])

#### refactor: move cli leven suggestion to options-normalizer ([#5057] by [@ikatyang])

#### refactor: extract options-normalizer/validator ([#5020] by [@ikatyang])

#### feat: add printer.preprocess ([#5041] by [@ikatyang])

#### fix(config): better error message for unsupported extension ([#4969] by [@ikatyang])

### JavaScript

#### Treat single-star comments as JSDoc ([#5206] by [@j-f1])

Prettier will now properly indent JSDoc-style comments with only a single `*` on the first line (`/*` vs `/**`) when the comment’s indentation changes:

<!-- prettier-ignore -->
```js
// Input:
if (true) {
    /*
     * Oh no
     */
}

// Output (Prettier 1.14):
if (true) {
  /*
   	 * Oh no
 	   */
}

// Output (Prettier 1.15):
if (true) {
  /*
 	 * Oh no
 	 */
}

```

#### Add support for flow typecast comments ([#5280] by [@swac])

#### Break nested TSConditionalType ([#5272] by [@duailibe])

#### Correct parentheses for mixed exp/mod ([#5243] by [@bakkot])

#### Fix comment issue with try finally ([#5252] by [@aquibm])

#### Inline the arguments of an arrow function in the body is conditional expression ([#5209] by [@duailibe])

#### Fix printing of catch clause with a comment ([#5202] by [@duailibe])

#### Fix comment in variable declarator ([#5190] by [@duailibe])

#### Fix parens around ternary inside OptionalMemberExpression ([#5179] by [@existentialism])

#### Escape not just backticks but `${` as well in graphql tags ([#5137] by [@lydell])

#### Fix quote property name as es5 compatible ([#5157] by [@koba04])

#### Fix break args when second arg is a ternary ([#5151] by [@onurtemizkan])

#### Add support for timeouts passed as numbers to test functions ([#5085] by [@j-f1])

This preserves Prettier’s special formatting for testing functions when a timeout (number) is passed as a third parameter:

<!-- prettier-ignore -->
```js
// Input:
it('Handles at least 10k untracked files without failing', async () => {
  hello()
}, 25000)

// Output (Prettier 1.14):
it(
  "Handles at least 10k untracked files without failing",
  async () => {
    hello();
  },
  25000
);

// Output (Prettier 1.15):
it('Handles at least 10k untracked files without failing', async () => {
  hello()
}, 25000)
```

#### Format {before,after}{Each,All} calls like regular function calls ([#5011] by [@ericsakmar])

#### Bugfix/ Don't inline pipeline operator with leading ownline comment ([#5015] by [@flxwu])

#### Bugfix/ Leave Dangle Comments in NewExpression ([#5017] by [@flxwu])

#### Remove redundant ASI protection for BindExpression ([#4970] by [@TitanSnow])

#### Fix [#4963]: parens are incorrectly stripped in BindExpression ([#4964] by [@TitanSnow])

#### Fix ternary format in function call ([#4368] by [@malcolmsgroves])

#### Verify the precedingNode type when handling import declaration comments ([#5016] by [@ericsakmar])

#### Fix Flow generic comment positioning ([#5290] by [@swac])

#### Fix unstable while comment ([#5251] by [@jaideng123])

### JSX

#### Prevent JSX from breaking a logical expression chain ([#5092] by [@duailibe])

#### [unicode] Fix trailing nbsp ([#5165] by [@vjeux])

#### Keep simple JSXOpeningTag's unbroken ([#5078] by [@duailibe])

#### Fix no false positive for arrow function in jsx expression ([#5063] by [@ikatyang])

### Flow

#### Inline Generics with a single identifier ([#5066] by [@duailibe])

#### Fix flow extends not breaking out into new lines ([#5244] by [@aquibm])

#### Update flow parser to 0.84.0 ([#5303] by [@jbrown215])

### TypeScript

#### Add ASI protection for TSNonNullExpression ([#5262] by [@duailibe])

#### Fix do not add extra semicolon to `TSMethodSignature` when `prettier-ignore` is used ([#5160] by [@onurtemizkan])

#### Fix no invalid parens for destructuring with default value ([#5096] by [@ikatyang])

#### Fix no-semi for class props with modifiers ([#5083] by [@ikatyang])

#### Fix add parens for complex nodes in ClassExpression ([#5074] by [@ikatyang])

#### Fix preserve necessary parens for TSOptionalType ([#5056] by [@ikatyang])

### CSS

#### Fix no wrong loc info caused by front matter ([#5103] by [@ikatyang])

### Markdown

#### Fix trailing spaces after front matters are allowed ([#5107] by [@ikatyang])

#### Fix do not add whitespaces between Latin and Hangul ([#5040] by [@ikatyang])

#### Fix preserve leading/trailing newlines in fenced code block ([#5038] by [@ikatyang])

#### Fix inline footnote def if there's only one 1-line paragraph ([#5025] by [@ikatyang])

#### Fix stably print lists in front of whitespace-only trailing newline ([#5024] by [@ikatyang])

#### feat: Preserve math ([#5050], [#5220] by [@ikatyang])

### YAML

#### Fix escape quotes correctly ([#5236] by [@ikatyang])

#### Fix update parsers ([#5027] by [@ikatyang])

#### feat: Prefer implicit key for empty value ([#4972] by [@ikatyang])

[@aquibm]: https://github.com/aquibm
[@bakkot]: https://github.com/bakkot
[@duailibe]: https://github.com/duailibe
[@ericsakmar]: https://github.com/ericsakmar
[@existentialism]: https://github.com/existentialism
[@flxwu]: https://github.com/flxwu
[@haggholm]: https://github.com/haggholm
[@ikatyang]: https://github.com/ikatyang
[@j-f1]: https://github.com/j-f1
[@jaideng123]: https://github.com/jaideng123
[@jbrown215]: https://github.com/jbrown215
[@koba04]: https://github.com/koba04
[@lydell]: https://github.com/lydell
[@malcolmsgroves]: https://github.com/malcolmsgroves
[@onurtemizkan]: https://github.com/onurtemizkan
[@suchipi]: https://github.com/suchipi
[@swac]: https://github.com/swac
[@titansnow]: https://github.com/TitanSnow
[@vjeux]: https://github.com/vjeux
[@warrenseine]: https://github.com/warrenseine
[@yuliahope]: https://github.com/yuliaHope
[#4368]: https://github.com/prettier/prettier/pull/4368
[#4772]: https://github.com/prettier/prettier/pull/4772
[#4963]: https://github.com/prettier/prettier/pull/4963
[#4964]: https://github.com/prettier/prettier/pull/4964
[#4969]: https://github.com/prettier/prettier/pull/4969
[#4970]: https://github.com/prettier/prettier/pull/4970
[#4972]: https://github.com/prettier/prettier/pull/4972
[#4975]: https://github.com/prettier/prettier/pull/4975
[#5006]: https://github.com/prettier/prettier/pull/5006
[#5011]: https://github.com/prettier/prettier/pull/5011
[#5015]: https://github.com/prettier/prettier/pull/5015
[#5016]: https://github.com/prettier/prettier/pull/5016
[#5017]: https://github.com/prettier/prettier/pull/5017
[#5020]: https://github.com/prettier/prettier/pull/5020
[#5024]: https://github.com/prettier/prettier/pull/5024
[#5025]: https://github.com/prettier/prettier/pull/5025
[#5027]: https://github.com/prettier/prettier/pull/5027
[#5038]: https://github.com/prettier/prettier/pull/5038
[#5039]: https://github.com/prettier/prettier/pull/5039
[#5040]: https://github.com/prettier/prettier/pull/5040
[#5041]: https://github.com/prettier/prettier/pull/5041
[#5050]: https://github.com/prettier/prettier/pull/5050
[#5056]: https://github.com/prettier/prettier/pull/5056
[#5057]: https://github.com/prettier/prettier/pull/5057
[#5063]: https://github.com/prettier/prettier/pull/5063
[#5066]: https://github.com/prettier/prettier/pull/5066
[#5074]: https://github.com/prettier/prettier/pull/5074
[#5078]: https://github.com/prettier/prettier/pull/5078
[#5083]: https://github.com/prettier/prettier/pull/5083
[#5085]: https://github.com/prettier/prettier/pull/5085
[#5092]: https://github.com/prettier/prettier/pull/5092
[#5096]: https://github.com/prettier/prettier/pull/5096
[#5103]: https://github.com/prettier/prettier/pull/5103
[#5107]: https://github.com/prettier/prettier/pull/5107
[#5137]: https://github.com/prettier/prettier/pull/5137
[#5149]: https://github.com/prettier/prettier/pull/5149
[#5151]: https://github.com/prettier/prettier/pull/5151
[#5157]: https://github.com/prettier/prettier/pull/5157
[#5160]: https://github.com/prettier/prettier/pull/5160
[#5165]: https://github.com/prettier/prettier/pull/5165
[#5179]: https://github.com/prettier/prettier/pull/5179
[#5188]: https://github.com/prettier/prettier/pull/5188
[#5190]: https://github.com/prettier/prettier/pull/5190
[#5202]: https://github.com/prettier/prettier/pull/5202
[#5205]: https://github.com/prettier/prettier/pull/5205
[#5206]: https://github.com/prettier/prettier/pull/5206
[#5207]: https://github.com/prettier/prettier/pull/5207
[#5209]: https://github.com/prettier/prettier/pull/5209
[#5220]: https://github.com/prettier/prettier/pull/5220
[#5236]: https://github.com/prettier/prettier/pull/5236
[#5243]: https://github.com/prettier/prettier/pull/5243
[#5244]: https://github.com/prettier/prettier/pull/5244
[#5251]: https://github.com/prettier/prettier/pull/5251
[#5252]: https://github.com/prettier/prettier/pull/5252
[#5259]: https://github.com/prettier/prettier/pull/5259
[#5262]: https://github.com/prettier/prettier/pull/5262
[#5272]: https://github.com/prettier/prettier/pull/5272
[#5280]: https://github.com/prettier/prettier/pull/5280
[#5290]: https://github.com/prettier/prettier/pull/5290
[#5303]: https://github.com/prettier/prettier/pull/5303
